
## 模拟赛

### T2

一时间没看懂 $a_i,b_i$ 有什么用，设 $c_i=a_i-b_i$ ，那么就是要满足

$$\begin{eqnarray}
\forall j \ge i ,\sum_{i\le k\le j}c_i \ge 0\\

\forall j <i， \sum_{i \le k \le n}c_k + \sum_{1\le k \le j}c_k \ge 0


\end{eqnarray}$$

考虑根据 $c_i$ 为斜率，做出一条折线，那么发现最终的答案一定位于折线最左侧的最低点，并且需要满足最右段的点大于等于最左端的点(和大于等于0)

然后就可以考虑状压了，我们发现通过枚举最低点左端点的集合，可以转变为询问 “左端点有多少种组合方式，可以使得其全程不小于和”的方案数乘上右端点的方案数，这样子我们就得到了 $O(2^{2n})$ 的做法

考虑反射容斥（？

注：前缀和的最低点并非答案，事实上，最低点右侧一个节点才是最终的答案，所以 0 号节点也要被考虑在内