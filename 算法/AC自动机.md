


当字符集较大时，可以考虑使用可持久化数组维护 ```ch``` 数组

AC自动机上判断某串的子串，考虑枚举前缀然后跳 $fail$ ，可以考虑建出 $fail$ 树，然后在走前缀的过程中用数据结构或连边建图表示出包含关系 [# birthday](https://www.luogu.com.cn/problem/CF590E)，或者说由于 $n$ 很小，所以记录 $fail$ 时只需要记录上一个存在字符串结尾的位置即可(路径压缩)





