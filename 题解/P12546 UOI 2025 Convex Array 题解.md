
首先很显然的，最终答案分配的序列结果一定是一个 V 字型

对序列进行排序，从小到大添加元素到左右两边，考虑dp使得第 $i,i-1$ 位的位置不同边，转移时直接让中间段全部染色为同一段，那么第 $i-2$ 的位置一定与 $i,i-1$ 中一个位置相同，这样子我们就确定了三个位置，注意到剩下的一个位置一定越大越好，所以考虑状态转移方程

设 $f_i$ 表示其中一个序列的结尾为 $i-2,i-1$ ，另一个为 $f_{i},i$ 的合法且 $f_i$ 的最大值

设 $g_i$ 表示其中一个序列的结尾为 $i-2,i$ ，另一个为 $g_{i},i-1$ 的合法且 $g_i$ 的最大值

