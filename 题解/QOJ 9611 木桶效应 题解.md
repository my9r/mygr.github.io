
考虑 $q=0$ 的情况

不妨设 $f_{i,j}$ 表示当前枚举到数 $i$ ，有 $j$ 行已被填空的答案

有转移方程

$$f_{i,j}=\sum_{k=0}^{j}f_{i-1,j-k}C_{n-j+k}^{k}\left( \sum_{d=0}^{k}C_{k}^{d}(-1)^d(j-i+1-d)^{m}   \right) $$

